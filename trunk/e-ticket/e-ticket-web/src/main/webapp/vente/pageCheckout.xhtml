<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="/resources/tpl/pageCorpsTemplate.xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:etsmtl="http://java.sun.com/jsf/composite/etsmtl"
                xmlns:f="http://java.sun.com/jsf/core">


    <ui:define name="content">
        <br/><br/>
        <h:form>
            <p:wizard widgetVar="wiz" flowListener="#{processPaiementCtrl.onFlowProcess}" >

                <p:tab id="tickets" title="Tickets">
                    <p:panel header="Checkout Your Tickets">
                        <p:dataTable id="dataTable" var="pan" value="#{panierCtrl.tableCrudPanier.listEnregistrement}" sortMode="multiple" rows="25" paginator="true">  
                            <f:facet name="header">  
                                Affiche tableau avec les toto du panier  
                            </f:facet>  

                            <p:column sortBy="{pan.nomSpectacle}" headerText="Show">  
                                <h:outputText value="{pan.nomSpectacle}" />  
                            </p:column>  

                            <p:column sortBy="{pan.dateRepresentation}" headerText="Date">  
                                <h:outputText value="{pan.dateRepresentation}" />  
                            </p:column>  

                            <p:column sortBy="{pan.quantity}" headerText="Number">  
                                <h:outputText value="{pan.quantity}" />  
                            </p:column>  

                            <p:column sortBy="{pan.prixtoto}" headerText="Total price">  
                                <h:outputText value="{pan.prixtoto}" />  
                            </p:column>  
                        </p:dataTable>
                    </p:panel>  
                </p:tab>  

                <p:tab id="client" title="Client">  
                    <p:panel header="Client Details">  

                        <h:panelGrid columns="3" >    
                            <etsmtl:inputTextLabel _id="nom" label="First Name" valeur="#{processPaiementCtrl.client.nom}" required="true" marginInputLabel="16" />
                            <etsmtl:inputTextLabel _id="prenom" label="Last Name" valeur="#{processPaiementCtrl.client.prenom}" required="true" />
                            <etsmtl:inputTextLabel _id="mail" label="E-mail" valeur="#{processPaiementCtrl.client.mail}" required="true" marginInputLabel="26" />

                            <etsmtl:inputTextLabel _id="rue" label="Street Address" valeur="#{processPaiementCtrl.client.adresse.rue}" required="false" />
                            <etsmtl:inputTextLabel _id="ville" label="City" valeur="#{processPaiementCtrl.client.adresse.region}" required="false" marginInputLabel="48" />
                            <etsmtl:inputTextLabel _id="codepost" label="Postal Code" valeur="#{processPaiementCtrl.client.adresse.codePostal}" required="false" />

                            <etsmtl:inputMaskLabel _id="phone" label="Phone" mask="999-999-9999" valeur="#{processPaiementCtrl.client.phone}" required="false"  marginInputLabel="50"  />
                            <etsmtl:inputTextLabel _id="pays" label="Country" valeur="#{processPaiementCtrl.client.adresse.ville}" required="false" marginInputLabel="27" />
                        </h:panelGrid>

                    </p:panel>  
                </p:tab>  

                <p:tab id="creditCard" title="Credit Card">  
                    <p:panel header="Credit Card Information">

                        <h:panelGrid columns="2" columnClasses="label, value">
                            <etsmtl:inputTextLabel _id="catecredi" label="Credit Card Number" valeur="#{processPaiementCtrl.carteCredit.numCarteCredit}" required="true" requiredMessage="Champ obligatoire" marginInputLabel="8" />
                            <etsmtl:calendarLabel _id="dateexpiration" label="Expiration Date" valeur="#{processPaiementCtrl.carteCredit.dateTransaction}" required="true" requiredMessage="Champ obligatoire" />
                            <etsmtl:inputTextLabel _id="codesecrt" label="Security Code (CVV)" valeur="#{processPaiementCtrl.carteCredit.numSecurite}" required="true" requiredMessage="Champ obligatoire" />                            
                        </h:panelGrid>  
                    </p:panel>  
                </p:tab>  

                <p:tab id="confirm" title="Confirmation">  
                    <p:panel header="Confirmation">  

                        <h:panelGrid id="confirmation" columns="6">
                        </h:panelGrid>  

                        <p:commandButton value="validate payment" actionListener="#{processPaiementCtrl.save}" icon="ui-icon-check" />
                        <p:commandButton value="Print" type="button" icon="ui-icon-print">  
                            <p:printer target="confirm" />  
                        </p:commandButton>
                    </p:panel>  
                </p:tab>  

            </p:wizard>  

        </h:form>          

    </ui:define>


</ui:composition>
